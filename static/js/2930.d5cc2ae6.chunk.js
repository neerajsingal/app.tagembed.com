"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[2930],{5385:(e,t,n)=>{n.d(t,{A:()=>x});var s=n(9950),a=n(54810),l=n(80322),i=n(28429),o=n(51960),c=n(26661),d=n(26415),r=n(38092),h=n.n(r),m=n(44414);const u=e=>{let{show:t,handleClose:n,navigate:s}=e;const{heading:l,description:i,url:r,isVideo:u,btnText:p}={heading:"Auto Pilot",description:"Want to create impressive widgets without spending hours? Auto-pilot is just the feature you need to sieve all the irrelevant posts within minutes! \u26a1 Ready to explore? Upgrade your plan.",url:(0,a.pc)("media/products/auto-pilot-feature.mp4"),btnText:" Upgrade Now! ",isVideo:!0};return(0,m.jsx)(c.A,{show:t,onHide:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:(0,m.jsx)(d.A,{className:"p-8 socialwall-popup-body",children:(0,m.jsxs)("div",{className:"row align-itmes-center",children:[(0,m.jsx)("h2",{className:"font-weight-boldest w-100 text-center mt-0",children:l}),(0,m.jsx)("p",{className:"mb-5 text-dark text-center",children:i}),(0,m.jsx)("div",{className:"col-lg-12",children:(0,m.jsx)("div",{className:"switch_image ugc-switch-video mb-4 w-100",children:u?(0,m.jsx)(h(),{height:300,id:"bg_image",className:"object-fit-contain",url:r,autoPlay:!0,playing:!0,loop:!0,muted:!0,controls:!1,playsinline:!0}):(0,m.jsx)(o.A,{isPrefix:!0,className:"img-fluid",src:r,alt:""})})}),(0,m.jsx)("div",{className:"col-lg-12",children:(0,m.jsx)("div",{className:"switch_text_inner text-center",children:(0,m.jsx)("button",{onClick:()=>{s("/price")},className:"btn btn-primary btn-lg btn-min-w mt-2",children:p})})})]})})})};var p=n(73878),g=n(85608);const x=e=>{var t,n;let{getWallData:o}=e;const{name:c,id:d}=o||{},r=(0,i.Zp)(),h=window.location.pathname,[x,v]=(0,s.useState)(!1),j=(0,p.d4)((e=>{var t,n,s,a;return null===(t=e.authorized)||void 0===t||null===(n=t.userData)||void 0===n||null===(s=n.user_data)||void 0===s||null===(a=s.UserPlan)||void 0===a?void 0:a.planId}),p.bN),f=g.vm.freePlan.includes(j)||g.vm.freeTrail.includes(j),w=(e,t,n)=>{e.stopPropagation(),((0,l.Yj)("networkManager","manageFeed",!0)||[4,5].includes(n))&&r(t)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"custom-side-menu-inn h-100",children:[(0,m.jsxs)("div",{className:"custom-side-menu-body",children:[(0,m.jsx)("p",{className:"csm-title mb-0 pb-3 pb-sm-2 border-bottom",children:"CONTENT"}),(0,m.jsxs)("ul",{className:"list-unstyled",children:[(0,m.jsxs)("li",{className:"py-3 border-bottom cursor-pointer ".concat(null===h||void 0===h||!h.includes("addfeed")||null!==h&&void 0!==h&&null!==(t=h.split("/"))&&void 0!==t&&t.includes("29")?"":"active"),onClick:e=>w(e,"/content/addfeed/".concat(d),2),children:[(0,m.jsx)(a.gc,{iconClass:"me-2",icon:"square-plus"}),(0,m.jsx)("span",{children:"Add Feed"})]}),(0,m.jsxs)("li",{className:"py-3 border-bottom cursor-pointer ".concat(null!==h&&void 0!==h&&h.includes("managefeed")?"active":""),onClick:e=>w(e,"/content/managefeed/".concat(d),3),children:[(0,m.jsx)(a.gc,{iconClass:"me-2",icon:"rectangle-history-circle-plus"}),(0,m.jsx)("span",{children:"Manage Feeds"})]}),(0,m.jsxs)("li",{className:"py-3 border-bottom cursor-pointer ".concat(null!==h&&void 0!==h&&h.includes("autopilot")?"active":""),onClick:e=>f?v(!0):w(e,"/autopilot",4),children:[(0,m.jsx)(a.gc,{iconClass:"me-2",icon:"toggle-on"}),(0,m.jsx)("span",{children:"Auto Pilot"})]}),(0,m.jsxs)("li",{className:"py-3 border-bottom cursor-pointer ".concat(null!==h&&void 0!==h&&null!==(n=h.split("/"))&&void 0!==n&&n.includes("29")?"active":""),onClick:e=>w(e,"/content/addfeed/".concat(d,"/29"),5),children:[(0,m.jsx)(a.gc,{iconClass:"me-2",icon:"messages"}),(0,m.jsx)("span",{children:"Review Hub"})]})]})]}),(0,m.jsx)("div",{className:"custom-side-menu-footer d-flex justify-content-end border-top",children:(0,m.jsx)("div",{className:"f-between w-100 gap-3",children:(0,m.jsx)("button",{type:"button",id:"",className:"w-100 btn btn-primary",onClick:e=>{e.stopPropagation(),r("/publish/".concat(d))},children:"Publish"})})})]}),x?(0,m.jsx)(u,{show:x,handleClose:()=>v(!1),navigate:r}):null]})}},42930:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var s=n(9950),a=n(73878),l=n(97937),i=n(45358),o=n(471),c=n(1093),d=n(64323),r=n(51960),h=n(21432),m=n(95942),u=n(17595),p=n(34483),g=n(36431),x=n(42074),v=n(25984),j=n(52867),f=n(54810),w=n(80322),y=n(65284),b=n(44414);class A extends s.Component{constructor(e){super(e),this.getConnectAccount=()=>{const{accountList:e,connectedAccount:t}=this.props.feed,n=e.length>0?e.filter((e=>e.id===t)):[];return n.length>0?n[0]:e.length>0?e[0]:{}},this.onModerationSwitch=e=>{const{feed:t,changeStatus:n}=this.props;n(t.id,Number(e),"moderation"),this.setState({moderation:Number(e)})},this.onFeedStatusSwitch=e=>{const{feed:t,changeStatus:n}=this.props;n(t.id,Number(e),"status"),this.setState({status:Number(e)})},this.connectAccount=(e,t)=>{const n={id:e.networkId,name:e.networkName.toLowerCase()};localStorage.setItem("feedId",e.id),t&&localStorage.setItem("refresh",!0),localStorage.setItem("connectionType","manageFeed"),(0,j.go)(n,t,!0)},this.state={moderation:this.props.feed.moderation,status:this.props.feed.status,connectedAccount:this.getConnectAccount()}}componentDidMount(){const{feed:e}=this.props;this.setState({status:e.status,moderation:e.moderation})}componentDidUpdate(e){e.accountChanged!=this.props.accountChanged&&this.setState({connectedAccount:this.getConnectAccount()})}render(){const{feed:e,onFeedDelete:t,changeAccount:n}=this.props,{status:s,moderation:a,connectedAccount:i}=this.state,{filterId:o,networkId:c,accountList:p,isBtntext:g}=e,A=localStorage.getItem("wallId"),N="media/".concat(localStorage.getItem("ownerId"),"/").concat(A,"/").concat(e.id),k=((e,t)=>18==e||2==e?[23,34,66,1].includes(t):10==e?[17,1,86].includes(t):3==e?[8,1,67,65,66].includes(t):7==e?[1,75].includes(t):28==e?[2,71].includes(t):12==e?[13].includes(t):5==e?[1,71].includes(t):(1==e||8==e||6==e||11==e)&&[1].includes(t))(c,o);return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("span",{className:"h-34px w-34px me-2 d-flex flex-shrink-0",children:(0,b.jsx)(r.A,{className:"h-100",src:(0,f.pc)("media/icons/social-icons-square/".concat((0,j.EC)(e.networkId),".svg")),height:43,width:43,title:(0,j.Oi)(e.networkId),alt:(0,j.Oi)(e.networkId),fluid:!0})}),(0,b.jsxs)("div",{style:{minWidth:170},children:[(0,b.jsxs)("p",{className:"mb-0 d-flex",children:[(0,b.jsxs)("span",{className:"feed_name fw-semibold",children:[(0,v.Ay)(e.name)," "]}),e.socialLink?(0,b.jsx)(h.A,{placement:"top",overlay:(0,b.jsx)(m.A,{children:e.tooltip}),children:(0,b.jsx)(x.N_,{className:"ms-2 text-muted",to:8!==e.networkId?e.socialLink:"https://vimeo.com/user".concat(e.accountId),target:"_blank",title:"support",children:(0,b.jsx)(f.gc,{icon:"arrow-up-right-from-square"})})}):null]}),(0,b.jsx)("small",{className:"mb-0 text-gray-700",children:e.networkName})]})]})}),(0,b.jsx)("td",{children:(0,b.jsx)(C,{feed:e,connectionType:"manageFeed"})}),(0,b.jsxs)("td",{children:[(0,b.jsx)("p",{className:"fs-8 fw-semibold mb-0","data-id":"post",style:{minWidth:120},children:e.postCount?e.postCount:0}),(0,b.jsxs)("span",{className:"fs-8 text-gray-700",children:["Approved ",e.postCount>1?"posts":"post"]})]}),(0,b.jsx)("td",{children:(0,b.jsx)(u.A.Check,{type:"switch",checked:a,"data-id":"moderation",onChange:()=>(0,w.Yj)("networkManager","manageFeed",!0)?a?this.onModerationSwitch(!a):(0,j.zO)("Enabling moderation will make all newly received posts private until they are reviewed and approved.",this.onModerationSwitch,!a):{}})}),(0,b.jsx)("td",{children:(0,b.jsx)(u.A.Check,{type:"switch",checked:s,"data-id":"status",onChange:()=>(0,w.Yj)("networkManager","manageFeed",!0)?s?(0,j.zO)("Disabling this status will hide all collected posts from this feed, affecting visibility and content access.",this.onFeedStatusSwitch,!s):this.onFeedStatusSwitch(!s):{}})}),(0,b.jsx)("td",{className:"pr-0",children:(0,b.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,b.jsx)("div",{className:"d-flex align-items-center justify-content-end me-2",children:(0,w.Yj)("networkManager","manageFeed",!0)&&k?(0,b.jsx)(y.A,{uploadPath:N,uploadAgents:[],onImgUpload:t=>(0,d.CF)(t,e.id),children:(0,b.jsx)(h.A,{placement:"top",overlay:(0,b.jsx)(m.A,{children:"Upload"}),children:(0,b.jsx)(l.A,{variant:"icon",size:"sm","data-id":"edit",className:"btn-active-primary","aria-label":"edit",children:(0,b.jsx)(f.gc,{type:"solid",icon:"edit"})})})}):null}),(0,b.jsx)("div",{className:"d-flex align-items-center justify-content-end",onClick:()=>(0,w.Yj)("networkManager","manageFeed",!0)?t(e.id,e.networkId):{},children:(0,b.jsx)(h.A,{placement:"top",overlay:(0,b.jsx)(m.A,{children:"Delete"}),children:(0,b.jsx)(l.A,{variant:"icon",size:"sm","data-id":"delete",className:"btn-active-primary","aria-label":"delete",children:(0,b.jsx)(f.gc,{type:"solid",icon:"trash-can"})})})})]})})]})}}const N=(0,a.Ng)(null,(e=>({GET_FEEDS:()=>e((0,d.LF)())})))(A),C=e=>{var t,n;let{feed:i,connectionType:o}=e;const{filterId:c,networkId:r,accountList:u,isBtntext:x,connectedAccount:v}=i,y=(0,a.wA)(),A=(0,s.useMemo)((()=>(0,w.Yj)("networkManager","manageFeed",!0)),[]),N=(0,s.useMemo)((()=>{var e,t;const n=v&&null!==(e=null===u||void 0===u?void 0:u.filter((e=>e.id===v)))&&void 0!==e?e:[];return null!==(t=null===n||void 0===n?void 0:n[0])&&void 0!==t?t:{}}),[u,v]);return(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[[1,2,3,4,5,8,65,67,26,23,86].includes(c)&&2!=r&&(null===u||void 0===u?void 0:u.length)>0?(0,b.jsxs)(p.A,{style:{minWidth:220},children:[(0,b.jsxs)(p.A.Toggle,{variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between p-2",children:[(0,b.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,b.jsx)(g.A,{className:"symbol symbol-32 symbol-circle flex-shrink-0 me-2",imageSize:26,symbolClass:"symbol-label fs-8",name:null!==(t=null===N||void 0===N?void 0:N.accountName)&&void 0!==t?t:"",profileUrl:N.profilePicture,networkId:r}),(0,b.jsx)("div",{className:"overflow-hidden",style:{maxWidth:130},children:(0,b.jsx)("p",{className:"fw-medium mb-0 text-ellipsis fs-8 text-black",children:null!==(n=null===N||void 0===N?void 0:N.accountName)&&void 0!==n?n:""})})]}),"Reconnect"==x||"Connect"==x?(0,b.jsx)(h.A,{overlay:(0,b.jsx)(m.A,{children:"Feed disconnected as the social media account's user name got changed since your last connection with Tagbox. Kindly click on the button below to connect."}),children:(0,b.jsx)("span",{className:"me-1 fs-5 text-danger h-14px w-14px",children:(0,b.jsx)(f.gc,{icon:"circle-info"})})}):null]}),(0,b.jsx)(p.A.Menu,{className:"w-100",children:u.map((e=>{const{id:t,profilePicture:n,accountName:s}=e;return(0,b.jsx)(p.A.Item,{onClick:()=>{A&&y((0,d.ZA)(t,i.id))},children:(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)(g.A,{className:"symbol symbol-26 symbol-circle flex-shrink-0 me-2",imageSize:26,symbolClass:"symbol-label fs-8",name:s,profileUrl:n,networkId:r}),(0,b.jsx)("div",{className:"overflow-hidden",style:{maxWidth:130},children:(0,b.jsx)("p",{className:"fw-medium mb-0 text-ellipsis fs-9",children:s})})]})},t)}))})]}):"Reconnect"==x||"Connect"==x?null:"--",(0,b.jsx)("div",{className:"d-flex ms-3",children:"Reconnect"==x||"Connect"==x?(0,b.jsx)(h.A,{placement:"top",overlay:(0,b.jsx)(m.A,{children:x}),children:(0,b.jsxs)(l.A,{variant:"icon",className:"btn-active-primary text-danger px-2 w-100","aria-label":x,onClick:()=>((e,t)=>{if(A){var n;const s={id:e.networkId,name:null!==(n=(null===e||void 0===e?void 0:e.networkName).toLowerCase())&&void 0!==n?n:""};localStorage.setItem("feedId",e.id),t&&localStorage.setItem("refresh",!0),localStorage.setItem("connectionType",o),(0,j.go)(s,t,!0)}})(i,!0),children:[(0,b.jsx)(f.gc,{iconClass:"me-1",type:"solid",icon:"rotate"}),x]})}):null})]})};var k=n(18633),S=n(4695),P=n.n(S),F=n(9697),I=n(58423),E=n(1391),D=n(26806),T=n(54480),M=n(91615),L=n(26787),_=n(5385);const G=[{name:"Name",minWidth:150},{name:"Account",minWidth:150},{name:"Posts",minWidth:120},{name:"Moderation",minWidth:50},{name:"Status",minWidth:50},{name:"Actions",minWidth:70,align:"text-end"}];class O extends s.Component{constructor(){super(...arguments),this.state={currentPage:1,showPost:30,totalPage:1,allFeeds:[],currentPageFeeds:null,accountChanged:!1},this.changeTotalPost=e=>{this.setState({showPost:parseInt(e.target.value),currentPage:1},(()=>this.countAllPage()))},this.nextPrev=e=>{this.setState({currentPage:e},(()=>this.countAllPage()))},this.countAllPage=()=>{const{manageFeeds:e}=this.props,t=null===e||void 0===e?void 0:e.feeds;this.setState({allFeeds:t,totalPage:Math.ceil((t&&t.length>0?t.length:0)/this.state.showPost)})},this.changeStatus=(e,t,n)=>{this.props.ACTION_FEED_STATUS(e,t,n,this.onSuccessUpdateRedux)},this.onSuccessUpdateRedux=e=>{this.props.getModeration(),this.countAllPage(),"account"==e&&this.setState({accountChanged:!this.state.accountChanged})},this.onFeedDelete=(e,t)=>{P().fire({icon:"warning",title:"Are you sure?",showCloseButton:!0,showCancelButton:!0,focusConfirm:!0,confirmButtonText:"Yes",confirmButtonAriaLabel:"Yes",cancelButtonText:"No",cancelButtonAriaLabel:"Thumbs down"}).then((n=>{n.value&&this.props.ACTION_DELETE_FEED(e,t,this.onDeleteUpdateRedux(t))}))},this.onDeleteUpdateRedux=e=>{this.props.getModeration(),this.countAllPage()},this.handleMessage=async e=>{try{const t=(0,j.KK)(e.data),{code:n,networkId:s,type:a}=t;"manageFeed"==a&&n&&await(0,F.CJ)(parseInt(s),n,this.props.GET_FEEDS)}catch(t){console.log("--- handleMessage error ---",t)}},this.getPagination=()=>{const{currentPage:e,totalPage:t}=this.state,n=[];if(t<=5)for(let s=1;s<=t;s++)n.push(s);else e<=3?n.push(1,2,3,4,"...",t):e>t-3?n.push(1,"...",t-3,t-2,t-1,t):n.push(1,"...",e-1,e,e+1,"...",t);return n}}componentDidMount(){window.addEventListener("message",this.handleMessage),this.props.GET_FEEDS(),this.countAllPage()}componentDidUpdate(e,t){var n,s,a,l,i;if(null!==(n=this.props.manageFeeds)&&void 0!==n&&n.loading||this.props.wallsLoader||null!==(s=this.props.manageFeeds)&&void 0!==s&&null!==(a=s.feeds)&&void 0!==a&&a.length){if(1==(null===(l=this.props.manageFeeds)||void 0===l||null===(i=l.feeds)||void 0===i?void 0:i.length)){var o;const{id:e,networkId:t}=null===(o=this.props.manageFeeds)||void 0===o?void 0:o.feeds[0];if(0==e&&0==t){const e=localStorage.getItem("wallId");e&&this.props.navigate("/content/addfeed/".concat(e))}}}else{const e=localStorage.getItem("wallId");e&&this.props.navigate("/content/addfeed/".concat(e))}}componentWillUnmount(){window.removeEventListener("message",this.handleMessage)}render(){var e,t,n;const{currentPage:s,showPost:a,totalPage:d,allFeeds:r,accountChanged:h}=this.state,{manageFeeds:m,wallsLoader:u,allWalls:p,navigate:g}=this.props,x=(this.getPagination(),(s-1)*a),v=(r>0&&r.slice(x,x+a),null!==(e=null===p||void 0===p?void 0:p.find((e=>e.id==localStorage.getItem("wallId"))))&&void 0!==e?e:{}),y=(0,j.C2)();return(0,b.jsxs)(b.Fragment,{children:[null!==p&&void 0!==p&&p.length?(0,b.jsx)(L.A,{crumbs:[{name:null!==(t=null===v||void 0===v?void 0:v.name)&&void 0!==t?t:"",icon:"grid-2-plus",imgUrl:null!==(n=null===v||void 0===v?void 0:v.thumbnail)&&void 0!==n?n:""},{name:"Home",link:"/home"},{name:"Content Gallery",link:"/content"},{name:null===v||void 0===v?void 0:v.name,link:"/content/moderation/".concat(null===v||void 0===v?void 0:v.id)},{name:"Manage feeds",link:"/content/managefeed/".concat((null===v||void 0===v?void 0:v.id)||localStorage.getItem("wallId")||"")}],RightComponent:(0,b.jsx)("div",{children:m.loading||u?null:p&&p.length>0?(0,b.jsxs)("button",{onClick:()=>(0,w.Yj)("networkManager","manageFeed",!0)?g("/content/addfeed/".concat(localStorage.getItem("wallId"))):{},className:"btn btn-primary btn-md text-nowrap btn-min-w text-capitalize",children:[(0,b.jsx)(f.gc,{icon:"plus",iconClass:"me-1"}),"Add feed"]}):(0,b.jsxs)(l.A,{size:"sm",className:"text-nowrap btn-min-w",onClick:()=>(0,w.Yj)("contentGallery","createGallery",!0)?this.props.TOGGLE_ADD_GALLERY(!0):{},children:[(0,b.jsx)(f.gc,{icon:"plus",iconClass:"me-1"}),"Add Gallery"]})}),showGallerySwitcher:!1},null===v||void 0===v?void 0:v.id):null,(0,b.jsxs)("div",{className:"custom-side-menu d-flex ".concat(y?"isShopify":""),children:[(0,b.jsx)(_.A,{getWallData:v}),(0,b.jsx)("div",{className:"custom-main-content",children:(0,b.jsx)("div",{className:"d-flex flex-column flex-column-fluid full-content mt-10 mt-lg-0",children:(0,b.jsxs)(i.A,{fluid:!0,className:y?"":"container-mange-feed",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between position-relative w-100",children:[(0,b.jsx)("div",{className:"mb-sm-3 mb-lg-5 mb-xl-5 mb-md-4 mb-3",children:(0,b.jsx)("h3",{className:"text-capitalize cont-title fs-5 mb-0",children:"Manage Feeds"})}),(0,b.jsx)("div",{onClick:()=>g("/content/moderation/".concat(localStorage.getItem("wallId"))),style:{right:"0",top:"10px",zIndex:"8",height:"20px",width:"20px",display:"flex",alignItems:"center",justifyContent:"center"},className:"position-absolute cursor-pointer rounded-2 text-muted",children:(0,b.jsx)(f.gc,{icon:"xmark",iconClass:"cursor-pointer fs-3"})})]}),(0,b.jsx)(o.A,{children:(0,b.jsx)(o.A.Body,{style:{minHeight:"calc(100vh - 200px)"},children:(0,b.jsx)("div",{className:"d-flex flex-column justify-content-between p-3 position-relative",children:m.loading||u?(0,b.jsx)("div",{style:{minHeight:"calc(100vh - 380px)"},children:(0,b.jsx)(k.a,{})}):p&&p.length>0?(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsxs)(c.A,{size:"lg",className:"pb-10",children:[(0,b.jsx)("thead",{className:"thead-light",children:(0,b.jsx)("tr",{children:G.map(((e,t)=>(0,b.jsx)("th",{className:"fw-bold text-nowrap ".concat((null===e||void 0===e?void 0:e.align)||""),style:{minWidth:e.minWidth},children:e.name},t)))})}),(0,b.jsx)("tbody",{children:null!==m&&void 0!==m&&m.feeds&&null!==m&&void 0!==m&&m.feeds.length?null===m||void 0===m?void 0:m.feeds.map((e=>0!=(null===e||void 0===e?void 0:e.id)||0!=(null===e||void 0===e?void 0:e.networkId)?(0,b.jsx)(N,{feed:e,changeStatus:this.changeStatus,onFeedDelete:this.onFeedDelete,accountChanged:h},"tr_".concat(e.id)):null)):null})]})}):(0,b.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 225px)"},children:(0,b.jsx)(D.A,{title:"Create a Gallery, to add feed! \u231b",desc:"Oops! Looks like you have deleted your gallery, create one by simply clicking on the button below.",icon:"media",button:{action:()=>(0,w.Yj)("contentGallery","createGallery",!0)?this.props.TOGGLE_ADD_GALLERY(!0):{},text:"Create Gallery"},isFullScreen:!1})})})})})]})})})]})]})}}const U=(0,a.Ng)((e=>{var t,n,s;return{manageFeeds:e.manageFeeds,wallsLoader:null===e||void 0===e||null===(t=e.dashboardData)||void 0===t?void 0:t.wallsLoader,allWalls:null===e||void 0===e||null===(n=e.dashboardData)||void 0===n||null===(s=n.dashboarddata)||void 0===s?void 0:s.allWalls}}),(e=>({GET_FEEDS:()=>e((0,d.LF)()),ACTION_DELETE_FEED:(t,n,s)=>e((0,d.sP)(t,n,s)),ACTION_FEED_STATUS:(t,n,s,a)=>e((0,d.X)(t,n,s,a)),getModeration:()=>e((0,I.zI)()),TOGGLE_ADD_GALLERY:t=>e({type:T.GSH,payload:t}),SNAPUP_DETAILS_ACTION:t=>e((0,M.QR)(t))})))((0,E.A)(O))},65284:(e,t,n)=>{n.d(t,{A:()=>w});var s=n(89379),a=n(9950),l=n(75794),i=n(76955),o=n(2772),c=n(67446),d=n(45175),r=n(70188),h=n(90900),m=(n(92043),n(58660),n(85608)),u=n(44414);const p=m.bG,g=m.I2,x=m.jZ,v=m.mD,j=m.ac;class f extends a.Component{constructor(e){super(e),this.onClickToOpen=()=>{this.setState({modalOpen:!0});const e=document.querySelector(".uppy-Dashboard-close");e&&e.addEventListener("click",(()=>{this.uppyPostEdit.cancelAll(),this.setState({modalOpen:!1})}))},this.onClickToClose=()=>{this.uppyPostEdit.cancelAll(),this.setState({modalOpen:!1,renderKey:Math.floor(6*Math.random())+1})};const{uploadPath:t,allowedFile:n,width:a,maxFileSize:i,beforeUpload:c,proceed:d}=e,r=d||!1,h=n||["image/*"],m=a||500,u=i||5e6,j=c||(()=>{}),f=1==h.length&&h.includes("image/*")?{resize:{robot:"/image/resize",width:m,resize_strategy:"fit",background:"none"}}:{};this.state={filename:null,modalOpen:!1,render:0},this.uppyPostEdit=new l.A({debug:!0,autoProceed:r,allowMultipleUploadBatches:!1,restrictions:{maxFileSize:u,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:h},onBeforeUpload:j}).use(o.Ay,{target:"#a",params:{auth:{key:p},steps:(0,s.A)((0,s.A)({},f),{},{store:{robot:"/wasabi/store",bucket_region:"us-west-1",bucket:g,key:x,secret:v,path:"".concat(t)+"${file.id}.${file.ext}"}})},waitForEncoding:!0})}componentDidMount(){const{uploadAgents:e,uploadPath:t,onImgUpload:n,uploadMethods:a}=this.props;e&&e.length>0&&e.forEach((e=>{let t=d.A;"GoogleDrive"==e?t=c.A:"Url"==e?t=r.A:"Webcam"==e&&(t=h.A),this.uppyPostEdit.use(t,{target:l.A.Dashboard,companionUrl:j})})),(null===a||void 0===a?void 0:a.length)>0&&a.forEach((e=>{let{key:t,callback:n}=e;this.uppyPostEdit.on(t,(e=>n(e,this.uppyPostEdit)))})),this.uppyPostEdit.on("transloadit:result",((e,a)=>{const l="".concat(m.GG).concat(t).concat(a.id,".").concat(a.ext);this.setState({filename:l},(()=>{setTimeout((()=>{n(l,(0,s.A)((0,s.A)({},a.meta),{},{fileName:"".concat(a.id,".").concat(a.ext),isVideo:Object(null===a||void 0===a?void 0:a.meta).hasOwnProperty("duration")}),l),this.uppyPostEdit.cancelAll(),this.setState({modalOpen:!1})}),300)}))}))}componentWillUnmount(){this.uppyPostEdit.cancelAll(),this.uppyPostEdit.close({reason:"unmount"}),this.setState({modalOpen:!1,renderKey:Math.floor(6*Math.random())+1})}render(){const{modalOpen:e,renderKey:t}=this.state,{isModal:n=!0,children:s,uploadAgents:l,showFile:o=!1,disInfo:c=!1,height:d=270}=this.props;return(0,u.jsx)(a.Fragment,{children:n?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{onClick:this.onClickToOpen,children:s}),(0,u.jsx)(i.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,open:e,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyPostEdit,onRequestCloseModal:this.onClickToClose,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:l})]}):(0,u.jsx)("div",{children:(0,u.jsx)(i.xh,{proudlyDisplayPoweredByUppy:!1,hideUploadButton:!0,showProgressDetails:!0,disableThumbnailGenerator:!1,showRemoveButtonAfterComplete:!1,height:d,uppy:this.uppyPostEdit,plugins:l,showSelectedFiles:o,disableInformer:c},t)})},t)}}const w=f}}]);